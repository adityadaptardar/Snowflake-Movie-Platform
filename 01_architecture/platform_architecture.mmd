flowchart LR

    %% External
    ADLS[Azure ADLS Storage]

    %% Snowflake boundary
    subgraph Snowflake_Data_Cloud

        GOV[Governance & Security<br/>RBAC • Masking • Row Access • Secure Views]
        MON[Monitoring & FinOps<br/>Cost • SLA • Freshness • Performance]
        WH[Compute Warehouses<br/>WH_INGEST | WH_TRANSFORM | WH_BI]

        RAW[RAW Layer<br/>Immutable ingestion]
        STR[Streams<br/>CDC Tracking]
        ORCH[Tasks / dbt Orchestration]
        CORE[CORE Layer<br/>Cleaned & Conformed]
        MART[MART Layer<br/>Dimensional Models]

    end

    BI[BI / Analytics Tools]

    ADLS --> RAW
    RAW --> STR
    STR --> ORCH
    ORCH --> CORE
    CORE --> MART
    MART --> BI

    GOV --- RAW
    GOV --- CORE
    GOV --- MART
    MON --- WH
    WH --- RAW
    WH --- CORE
    WH --- MART
